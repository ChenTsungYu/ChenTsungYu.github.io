<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>[Database] 資料庫入門 - Tom&#039;s Blog</title><link rel="manifest" href="../../../../../../manifest.json"><meta name="application-name" content="Tom&#039;s Blog"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Tom&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="前言開始認識資料庫前，先知道一下什麼是資料?資訊? 資料(data): 指未經處理的原始紀錄e.g. 學生作業、考試成績  另外，資料又分為結構化、半結構化、非結構化三種"><meta property="og:type" content="blog"><meta property="og:title" content="[Database] 資料庫入門"><meta property="og:url" content="https://github.com/ChenTsungYu/2019/07/14/Database/SQL%20Server/database(introduction)/"><meta property="og:site_name" content="Tom&#039;s Blog"><meta property="og:description" content="前言開始認識資料庫前，先知道一下什麼是資料?資訊? 資料(data): 指未經處理的原始紀錄e.g. 學生作業、考試成績  另外，資料又分為結構化、半結構化、非結構化三種"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*Jakop8RHfrNeTlz6edwmZQ.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*rgF5KOmLaUMlaYwBbMTmgw.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*tc3OlesbDBcJaNEybK-APg.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*7sxzJfDs8XNFulKkBHyypQ.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*NJLYp5KaxmMpmX5JeEdg9w.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*mTY-FMDr9ISu4-UiRTbe-g.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*sOUHK2Bn2WDknK5tPvm9Zw.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*aEdSr95z2j8QsPgOZx4d7Q.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*C04IDNz5s-WVePpdpLDy8g.png"><meta property="og:image" content="https://cdn-images-1.medium.com/max/2000/1*cHCWvKIEm2IzQtdKr_lAUA.png"><meta property="article:published_time" content="2019-07-14T12:50:10.000Z"><meta property="article:modified_time" content="2021-09-28T09:36:25.937Z"><meta property="article:author" content="Tsung Yu Chen"><meta property="article:tag" content="Database"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://cdn-images-1.medium.com/max/2000/1*Jakop8RHfrNeTlz6edwmZQ.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/ChenTsungYu/2019/07/14/Database/SQL%20Server/database(introduction)/"},"headline":"Tom's Blog","image":["https://cdn-images-1.medium.com/max/2000/1*Jakop8RHfrNeTlz6edwmZQ.png","https://cdn-images-1.medium.com/max/2000/1*rgF5KOmLaUMlaYwBbMTmgw.png","https://cdn-images-1.medium.com/max/2000/1*tc3OlesbDBcJaNEybK-APg.png","https://cdn-images-1.medium.com/max/2000/1*7sxzJfDs8XNFulKkBHyypQ.png","https://cdn-images-1.medium.com/max/2000/1*NJLYp5KaxmMpmX5JeEdg9w.png","https://cdn-images-1.medium.com/max/2000/1*mTY-FMDr9ISu4-UiRTbe-g.png","https://cdn-images-1.medium.com/max/2000/1*sOUHK2Bn2WDknK5tPvm9Zw.png","https://cdn-images-1.medium.com/max/2000/1*aEdSr95z2j8QsPgOZx4d7Q.png","https://cdn-images-1.medium.com/max/2000/1*C04IDNz5s-WVePpdpLDy8g.png","https://cdn-images-1.medium.com/max/2000/1*cHCWvKIEm2IzQtdKr_lAUA.png"],"datePublished":"2019-07-14T12:50:10.000Z","dateModified":"2021-09-28T09:36:25.937Z","author":{"@type":"Person","name":"Tsung Yu Chen"},"description":"前言開始認識資料庫前，先知道一下什麼是資料?資訊? 資料(data): 指未經處理的原始紀錄e.g. 學生作業、考試成績  另外，資料又分為結構化、半結構化、非結構化三種"}</script><link rel="canonical" href="https://github.com/ChenTsungYu/2019/07/14/Database/SQL%20Server/database(introduction)/"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="../../../../../../css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.2"></head><body class="is-2-column"><script type="text/javascript" src="/js/imaegoo/night.js"></script><canvas id="universe"></canvas><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="../../../../../../index.html"><img class="logo-img" src="../../../../../../img/dragon_blue.png" alt="Tom&#039;s Blog" height="28"><img class="logo-img-dark" src="../../../../../../img/dragon_red.png" alt="Tom&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="../../../../../../index.html">Home</a><a class="navbar-item" href="../../../../../../archives">Archives</a><a class="navbar-item" href="../../../../../../categories">Categories</a><a class="navbar-item" href="../../../../../../tags">Tags</a><a class="navbar-item" href="../../../../../../about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ChenTsungYu"><i class="fab fa-github"></i></a><a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-07-14T12:50:10.000Z" title="7/14/2019, 8:50:10 PM">2019/07/14</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-09-28T09:36:25.937Z" title="9/28/2021, 5:36:25 PM">2021/09/28</time></span><span class="level-item"><a class="link-muted" href="../../../../../../categories/Backend/">Backend</a></span><span class="level-item">21 minutes read (About 3100 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">[Database] 資料庫入門</h1><div class="content"><!-- toc -->
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>開始認識資料庫前，先知道一下什麼是<strong>資料</strong>?<strong>資訊</strong>?</p>
<h2 id="資料-data"><a href="#資料-data" class="headerlink" title="資料(data):"></a>資料(data):</h2><blockquote>
<p>指未經處理的原始紀錄<br><strong>e.g. 學生作業、考試成績</strong></p>
</blockquote>
<p>另外，資料又分為<strong>結構化</strong>、<strong>半結構化</strong>、<strong>非結構化</strong>三種</p>
<span id="more"></span> 
<h3 id="結構化"><a href="#結構化" class="headerlink" title="結構化:"></a>結構化:</h3><p>有明確格式和內容限制 <strong>e.g. 資料庫</strong></p>
<h3 id="半結構化"><a href="#半結構化" class="headerlink" title="半結構化:"></a>半結構化:</h3><p>有明確格式，無內容限制 <strong>e.g. Excel、E-mail、Facebook</strong></p>
<h3 id="非結構化"><a href="#非結構化" class="headerlink" title="非結構化:"></a>非結構化:</h3><p>無明確格式和內容限制 <strong>e.g. 圖片、影片</strong></p>
<h2 id="資訊-information"><a href="#資訊-information" class="headerlink" title="資訊(information):"></a>資訊(information):</h2><blockquote>
<p>指經過<strong>”資料處理”</strong>後的結果，產出有用的資訊。 e.g. 班級成績排名</p>
</blockquote>
<p>好的資訊可以幫助決策者做出好決定! 要產出好的資訊，需透過好工具來達成，我們可以透過<strong>資料庫系統</strong>做統整。</p>
<h2 id="什麼是資料庫-DataBase-DB"><a href="#什麼是資料庫-DataBase-DB" class="headerlink" title="什麼是資料庫(DataBase,DB)?"></a>什麼是資料庫(DataBase,DB)?</h2><blockquote>
<p>根據定義是指 <strong>有方法且有組織性的將一群相關的資料集合起來並儲存在一起</strong></p>
</blockquote>
<p>我會把它擬作一個<strong>容器</strong>，儲存程式、系統運作所需的資料，使用者可以使用SQL語法對容器中的檔案進行<strong>新增(Create)<strong>、</strong>查詢(Read)<strong>、</strong>更改(Update)<strong>、</strong>刪減(Delete)<strong>等操作，在CS領域稱這四大基本操作為</strong>CRUD</strong>。</p>
<p>另外資料庫有分關聯式和非關聯式資料庫，主要根據處理的資料格式來決定用哪種資料庫。</p>
<h2 id="什麼是資料庫管理系統-DataBase-Management-System-DBMS"><a href="#什麼是資料庫管理系統-DataBase-Management-System-DBMS" class="headerlink" title="什麼是資料庫管理系統(DataBase Management System, DBMS )?"></a>什麼是資料庫管理系統(DataBase Management System, DBMS )?</h2><p>DBMS是一套提供多位使用者管理資料庫的軟體系統，負責資料存取和控制。一個DBMS會包含1~多個DB。常見的DBMS為:</p>
<h3 id="關聯式資料庫管理系統"><a href="#關聯式資料庫管理系統" class="headerlink" title="關聯式資料庫管理系統:"></a>關聯式資料庫管理系統:</h3><p>MS(微軟) SQL Server、Oracle、MySQL(免費)</p>
<h3 id="非關聯式資料庫管理系統"><a href="#非關聯式資料庫管理系統" class="headerlink" title="非關聯式資料庫管理系統:"></a>非關聯式資料庫管理系統:</h3><p>MongoDB</p>
<h3 id="資料庫系統-DataBase-System-的組成"><a href="#資料庫系統-DataBase-System-的組成" class="headerlink" title="資料庫系統(DataBase System) 的組成:"></a>資料庫系統(DataBase System) 的組成:</h3><p><strong>一般來說一個資料庫系統主要包括:</strong></p>
<p>硬體、軟體(DBMS)、資料(DB)、使用者</p>
<p>使用者主要分三類:</p>
<p>1.一般終端使用者(end user)</p>
<p>2.程式設計師(Programmer)</p>
<p>3.資料庫管理師(DBA)</p>
<p>下面這張圖來說明彼此間的關係</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*Jakop8RHfrNeTlz6edwmZQ.png" alt="資料庫、資料庫管理系統、資料庫系統間的關係"><em>資料庫、資料庫管理系統、資料庫系統間的關係</em></p>
<h2 id="資料庫的出現及設計目的為何"><a href="#資料庫的出現及設計目的為何" class="headerlink" title="資料庫的出現及設計目的為何?"></a>資料庫的出現及設計目的為何?</h2><p><strong>集中管理資料</strong>，增加資料的<strong>完整性</strong>和<strong>一致性</strong>，並建立一個整合的管理機制，把資料管理和程式設計分開，使用標準化的查詢語言(SQL語法)。</p>
<p>為了解決傳統檔案處理系統資料的方式，資料庫主要提供了以下優點:</p>
<ol>
<li>減少資料的重複或不一致:</li>
</ol>
<p>傳統的方式可能造成大量資料重複，或是更新的時候不完整，導致資料不一致</p>
<ol start="2">
<li>讓資料具共享性:</li>
</ol>
<p>將資料維護在單一的倉庫(Repository)中它只需要定義一次，就可讓不同的使用者存取。</p>
<ol start="3">
<li><p>減少維護成本及開發時間:</p>
</li>
<li><p>資料的安全性:</p>
</li>
</ol>
<p>資料庫均有完善的保密系統，透過資料庫管理師進行管理</p>
<ol start="5">
<li>資料獨立性:</li>
</ol>
<p>資料庫中每一項資料都具有「獨立性」， 資料的結構和存取方法是固定的，不因用途不同而有所不同。</p>
<p>缺點:</p>
<ol>
<li><p>DBMS成本較高</p>
</li>
<li><p>當DBMS發生故障時，比較難復原(集中控制)</p>
</li>
</ol>
<p>另外，課堂主要介紹兩個常用的資料分析方式:</p>
<ol>
<li><p>正規化法(傳統)</p>
</li>
<li><p>個體關係模型(ER-model)</p>
</li>
</ol>
<p>參考網址: <a target="_blank" rel="noopener" href="http://www.angle.com.tw/File/Try/51MGA02103-2.pdf">http://www.angle.com.tw/File/Try/51MGA02103-2.pdf</a></p>
<p>筆記傳統的分析模型:** 正規化**</p>
<h2 id="正規化-Normalization"><a href="#正規化-Normalization" class="headerlink" title="正規化( Normalization)"></a>正規化( Normalization)</h2><blockquote>
<p>透過蒐集原有作業的表單進行分析、拆解，避免重複和不一致，得出Data Schema</p>
</blockquote>
<p>資料庫是存大量資料的地方，內含多個資料表(table)，我們的目標是要找出這些表格之間的關係，將大的資料表拆成小的資料表。順便來認識一些名詞。</p>
<h3 id="資料表-table-由1-n個欄位-column或稱field-及資料錄-record或稱row-，每個row表一筆資料，而每個field表一筆資料的屬性。"><a href="#資料表-table-由1-n個欄位-column或稱field-及資料錄-record或稱row-，每個row表一筆資料，而每個field表一筆資料的屬性。" class="headerlink" title="資料表(table): 由1~n個欄位(column或稱field)及資料錄(record或稱row)，每個row表一筆資料，而每個field表一筆資料的屬性。"></a>資料表(table): 由1~n個欄位(column或稱field)及資料錄(record或稱row)，每個row表一筆資料，而每個field表一筆資料的屬性。</h3><p><img src="https://cdn-images-1.medium.com/max/2000/1*rgF5KOmLaUMlaYwBbMTmgw.png"></p>
<h3 id="Data-Schema-資料庫本身的描述，包括資料庫結構的描述，以及在資料庫上應該遵守的限制。"><a href="#Data-Schema-資料庫本身的描述，包括資料庫結構的描述，以及在資料庫上應該遵守的限制。" class="headerlink" title="Data Schema: 資料庫本身的描述，包括資料庫結構的描述，以及在資料庫上應該遵守的限制。"></a>Data Schema: 資料庫本身的描述，包括資料庫結構的描述，以及在資料庫上應該遵守的限制。</h3><h3 id="資料庫實例-database-instance-：-在某個特定時刻所儲存的實際資料，也稱作資料庫狀態-database-state-。"><a href="#資料庫實例-database-instance-：-在某個特定時刻所儲存的實際資料，也稱作資料庫狀態-database-state-。" class="headerlink" title="資料庫實例 (database instance)： 在某個特定時刻所儲存的實際資料，也稱作資料庫狀態 (database state)。"></a>資料庫實例 (database instance)： 在某個特定時刻所儲存的實際資料，也稱作資料庫狀態 (database state)。</h3><h2 id="鍵值屬性"><a href="#鍵值屬性" class="headerlink" title="鍵值屬性:"></a>鍵值屬性:</h2><p>在關聯式資料庫中，每一個關聯(表格)會有許多不同的鍵值屬性 (Key Attribute) ，可以分成兩個部份來探討：</p>
<h3 id="一、屬性-Attribute-："><a href="#一、屬性-Attribute-：" class="headerlink" title="一、屬性(Attribute)："></a>一、屬性(Attribute)：</h3><p>是指一般屬性或欄位。</p>
<h3 id="二、鍵值屬性-Key-Attribute-："><a href="#二、鍵值屬性-Key-Attribute-：" class="headerlink" title="二、鍵值屬性(Key Attribute)："></a>二、鍵值屬性(Key Attribute)：</h3><p>由一個或一個以上的屬性所組成， 並且在一個關聯中，必須要具有「<strong>唯一性</strong>」的屬性來當作「鍵 (Key)」。</p>
<p>關聯式資料庫(RDBMS)中，常見的鍵(Key)可分為：<strong>候選鍵(Candidate)、主鍵(Primary Key)、外來鍵(Foreign Key)及替換鍵</strong>。</p>
<h3 id="候選鍵"><a href="#候選鍵" class="headerlink" title="候選鍵:"></a>候選鍵:</h3><p>可<strong>唯一識別</strong>資料表(Table)中的每一筆資料屬性的組合。</p>
<h3 id="主鍵-Primary-Key"><a href="#主鍵-Primary-Key" class="headerlink" title="主鍵(Primary Key):"></a>主鍵(Primary Key):</h3><p>從候選鍵中挑一個最適合或常用到的作為主鍵，<strong>如果沒有合適的，就定義一組流水號。</strong></p>
<p><strong>主鍵要求:</strong></p>
<p>不允許重複、不允許為null(無法進行邏輯運算)*註</p>
<h3 id="外來鍵-Foreign-Key"><a href="#外來鍵-Foreign-Key" class="headerlink" title="外來鍵(Foreign Key):"></a>外來鍵(Foreign Key):</h3><p>兩個資料表(Table)具有關係(Relationship)時，會產生參照關係，將被參照的表格(Table)中的Primary Key，納入參照的Table中做為Foriegn Key。</p>
<p><strong>外來鍵要求:</strong></p>
<ol>
<li><p>在被參照的Table中必須為<strong>Primary Key。</strong></p>
</li>
<li><p>當參照的Table新增一筆資料時，Foriegn Key的值在被參照的Table中必須已經存在。</p>
</li>
<li><p>Foreign Key允許為null，但修改值時會檢查是否存在<strong>Primary Key。</strong></p>
</li>
<li><p>當被參照的Table要刪除一筆資料時，DBMS會檢查該筆資料是否被Foreign Key所參照，如果是，就不能被刪除。</p>
</li>
</ol>
<h3 id="替換鍵"><a href="#替換鍵" class="headerlink" title="替換鍵:"></a>替換鍵:</h3><p>其他落選的候選鍵。</p>
<h2 id="正規化的形式"><a href="#正規化的形式" class="headerlink" title="正規化的形式"></a>正規化的形式</h2><h3 id="第一正規化-去除多值"><a href="#第一正規化-去除多值" class="headerlink" title="第一正規化: 去除多值"></a>第一正規化: 去除多值</h3><p>每個Field只允許放一個單位，若有多個值則分成多筆資料(Row)，並決定Table中的<strong>Primary Key。</strong></p>
<h3 id="第二正規化-去除部分相依"><a href="#第二正規化-去除部分相依" class="headerlink" title="第二正規化: 去除部分相依"></a><strong>第二正規化: 去除部分相依</strong></h3><ol>
<li><p><strong>Primary Key</strong>可能不只一個Field所構成，若Primary Key只有一個Field，則不須另外做第二正規化(因為已經滿足)。</p>
</li>
<li><p>檢查所有<strong>非Primary Key的Field，</strong>確認該Field必須由<strong>所有Primary Key的Field共同決定，</strong>不能只有部分決定<strong>。</strong></p>
</li>
<li><p><strong>若部分Primary Key的Field就能決定的話，需要另外拆出一個新的表格。</strong></p>
</li>
</ol>
<h3 id="第三正規化-去除遞移關係"><a href="#第三正規化-去除遞移關係" class="headerlink" title="第三正規化: 去除遞移關係"></a>第三正規化: 去除遞移關係</h3><ol>
<li><p>先完成第二正規化</p>
</li>
<li><p>檢查所有Field是否有間接決定的現象，意思是<strong>Primary Key</strong>決定某個Field，而且這個Field可決定其他的Field。</p>
</li>
<li><p>將發生決定的遞移現象的Field拆成新的Table。</p>
</li>
</ol>
<p>以上為正規化的流程，之後再補上實作的例子。</p>
<p>註:</p>
<p>NULL – 「虛值」，在資料庫中為了識別<strong>某一屬性是使用者未給值</strong>的特殊情況，記為Null，NULL因為是未定值，<strong>無法與其他值做比較</strong>。</p>
<p>再來筆記另一種常用的資料庫分析模型:</p>
<h3 id="實體關係模型-Entity-relationship-model-ERD"><a href="#實體關係模型-Entity-relationship-model-ERD" class="headerlink" title="實體關係模型( Entity-relationship model, ERD)"></a><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/ER%E6%A8%A1%E5%9E%8B">實體關係模型( Entity-relationship model, <strong>ERD</strong>)</a></h3><p>最早由美籍華裔電腦科學家<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E9%99%88%E5%93%81%E5%B1%B1">陳品山</a>所提出的概念模型。</p>
<p>目的: 在導出Database Schema，並提供資料儲存及業務規則間的圖型化檢驗 機制。</p>
<p>先說明一下ERD的符號:</p>
<p>Entity(實體): 用一矩形表示， 現實世界事物的一種抽象表示，大多是名詞， 如: 客戶與商品都是個體。</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*tc3OlesbDBcJaNEybK-APg.png"></p>
<p>Attribute(屬性): 用橢圓表示， 描述一個個體會有的特徵、特性。如: 客戶明、客戶住址、客戶編號。</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*7sxzJfDs8XNFulKkBHyypQ.png"></p>
<p>Relationship(關係): 用菱形表示，描述或傳達個體與個體之間的關聯性。 例: 客戶和商品之間有一『<strong>銷售</strong>』關聯，因此兩個體間存在一<strong>銷售關係</strong>。</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*NJLYp5KaxmMpmX5JeEdg9w.png"></p>
<p>作法:</p>
<ol>
<li><p>觀察使用者情境或需求描述，找出重要的人、事、時、地、物，畫作Entity。</p>
</li>
<li><p>依Entity找出重要的Attribute，以直線連接Entity。</p>
</li>
<li><p>找出Entity之間找出重要的關係，在Entity間畫出Relationship直接連接Entity。</p>
</li>
</ol>
<p>範例:</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*mTY-FMDr9ISu4-UiRTbe-g.png"></p>
<p>&lt;注意&gt;</p>
<p>正確的ERD可以自動滿足正規化的所有流程。</p>
<p>陳品山的ERD可以允許多對多、多元關係，且<strong>只描述重要屬性</strong>。</p>
<p>不描述外來鍵，只描述主鍵。</p>
<p>不適合表達複雜的資料庫結構(Schema)</p>
<h2 id="概念資料模型-Conceptual-Data-Model-CDM"><a href="#概念資料模型-Conceptual-Data-Model-CDM" class="headerlink" title="概念資料模型(Conceptual Data Model,CDM)"></a>概念資料模型(Conceptual Data Model,CDM)</h2><p>亦稱作鳥爪圖，用於資料模型(Data Model)中的概念分析，CDM處於<strong>系統分析階段，還不需要決定使用哪個資料庫管理系統(DBMS)。</strong></p>
<p>範例圖示:</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*sOUHK2Bn2WDknK5tPvm9Zw.png"></p>
<p>實體關係的描述可為一對一、多對多、一對多。</p>
<p>“+”表一定要有值，空心圓表沒有值，像鳥爪一樣的圖示表示多個。</p>
<p>&lt;注意&gt;</p>
<p>畫底線者表示該實體的主鍵(Primary Key)。</p>
<p>畫CDM時，只允許二元關係，不描述外來鍵，但可以設定主鍵。</p>
<p>若兩個實體間有多對多的關係(都是鳥爪圖案)，則需要拆成2個一對多關係的實體。</p>
<p>例如上圖的訂單和產品之間的關係是多對多，那我們還可以拆分成下圖</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*aEdSr95z2j8QsPgOZx4d7Q.png"></p>
<p>中間新增一個訂單明細，跟其他兩者關係成一對多的關係。</p>
<p>當要把多對多的關係拆出更細節的一對多關係時，就開始進入<strong>系統設計</strong>階段。</p>
<p>筆記一下系統開發的生命週期:</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*C04IDNz5s-WVePpdpLDy8g.png"></p>
<h2 id="實體資料模式-Physical-Data-Model-PDM"><a href="#實體資料模式-Physical-Data-Model-PDM" class="headerlink" title="實體資料模式(Physical Data Model,PDM)"></a>實體資料模式(Physical Data Model,PDM)</h2><p>實體資料模式是依實際運作上的考量，在特定資料庫系統上實現的結果，和上篇CDM不同的是， CDM是用來表達真實資料庫的抽象概念。</p>
<p>上篇最後有提到，具有多對多關係的兩個Entity需拆出兩組一對多關係的Entity。另外，因為需在特定的資料庫系統上實現，所以在畫PDM前<strong>一定要先選定哪種資料庫管理系統</strong>(DBMS)，選定之後就不可再做修改。</p>
<p>PDM示意圖(By Power Designer):</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*cHCWvKIEm2IzQtdKr_lAUA.png"></p>
<p>&lt;注意&gt;</p>
<p>此階段需選定哪個資料庫管理系統。</p>
<p>PDM中的Entity可以設定外來鍵(Foreign Key)。</p>
<p>箭頭指向<strong>被參照的Entity</strong>，箭尾為<strong>參照Entity</strong>，將被參照Entity中的主鍵拉到參照Entity內作為外來鍵。</p>
<p><strong>關係: 箭頭指向為一，箭尾為多</strong></p>
<p>另外紀錄模型內常用的資料型態:</p>
<p>char(): 表字元，<strong>有固定長度</strong>，()內可填入字元的最大長度，用於較有固定長度的資料，例如: 名字。 優點: 處理省時間</p>
<p>varchar():表字元，<strong>變動長度，</strong>可隨著不同輸入的資料長度<strong>，</strong>對最大長度做彈性調整，例如: 地址。 優點: 省空間</p>
<p>Integer: 整數</p>
<p>date: 日期</p>
<p>time: 時刻</p>
<p>datetime: 時間(包含日期、時間)</p>
</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="../../../../../../tags/Database/">Database</a></div><!--!--></article></div><!--!--><div class="card"><nav class="post-navigation mt-4 level is-mobile card-content"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="../Database/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">[Database] Microsoft SQL Server 概念整理</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="../../../Network/Internet(Basic)/"><span class="level-item">網路概論入門</span><i class="level-item fas fa-chevron-right"></i></a></div></nav></div><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="comment-container"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
            id: "3ebd9873a3498b6f927bea936ddc581f",
            repo: "ChenTsungYu.github.io",
            owner: "ChenTsungYu",
            clientID: "7913190f1a943b88e276",
            clientSecret: "8c54a86c8fe06b650efe932eb53bc421ddf84773",
            admin: ["ChenTsungYu"],
            createIssueManually: false,
            distractionFreeMode: false,
            perPage: 20,
            pagerDirection: "last",
            
            
            enableHotKey: true,
            
        })
        gitalk.render('comment-container')</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="../../../../../../img/avatar.png" alt="Tsung Yu Chen"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Tsung Yu Chen</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Taiwan</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="../../../../../../archives"><p class="title">109</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="../../../../../../categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="../../../../../../tags"><p class="title">49</p></a></div></div></nav><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ChenTsungYu"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/zong.y.r/"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/tom-chen-1012/"><i class="fab fa-linkedin-in"></i></a></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-11-27T08:00:19.787Z">2022/11/27</time></p><p class="title"><a href="../../../../../../2022/11/27/DevOps/CICD/GitHub%20Action%20OIDC/">[Github Action] 整合 AWS OIDC 進行 CI/CD 安全強化</a></p><p class="categories"><a href="../../../../../../categories/DevOps/">DevOps</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-29T05:23:10.000Z">2022/06/29</time></p><p class="title"><a href="../../../../../../2022/06/29/Database/Index/">[Postgres] 資料庫的索引(Index)</a></p><p class="categories"><a href="../../../../../../categories/Backend/">Backend</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-20T05:23:10.000Z">2022/06/20</time></p><p class="title"><a href="../../../../../../2022/06/20/Database/%E8%B3%87%E6%96%99%E5%BA%AB%E5%A6%82%E4%BD%95%E5%AD%98%E6%94%BE%E8%B3%87%E6%96%99/">[Postgres] 資料庫裡的儲存概念</a></p><p class="categories"><a href="../../../../../../categories/Backend/">Backend</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-15T05:23:10.000Z">2022/01/15</time></p><p class="title"><a href="../../../../../../2022/01/15/Database/Redis/%5BBackend%5D%20%E6%8F%90%E9%AB%98%20Redis%20%E5%9F%B7%E8%A1%8C%E6%95%88%E7%8E%87%E7%9A%84%E6%96%B9%E6%B3%95%20-%20Pipeline/">[Redis] 提高 Redis 執行效率的方法 - Pipeline</a></p><p class="categories"><a href="../../../../../../categories/Backend/">Backend</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-11T05:23:10.000Z">2022/01/11</time></p><p class="title"><a href="../../../../../../2022/01/11/Database/Redis/%5BBackend%5D%20Redis%20-%20Transction/">[Redis] Redis - Transaction</a></p><p class="categories"><a href="../../../../../../categories/Backend/">Backend</a></p></div></article></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="../../../../../../index.html"><img class="logo-img" src="../../../../../../img/dragon_blue.png" alt="Tom&#039;s Blog" height="28"><img class="logo-img-dark" src="../../../../../../img/dragon_red.png" alt="Tom&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Tsung Yu Chen</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ChenTsungYu"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="../../../../../../js/column.js"></script><script src="../../../../../../js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="../../../../../../js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="../../../../../../js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="../../../../../../js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"../../../../../../content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script type="text/javascript" src="/js/imaegoo/universe.js"></script></body></html>